apply plugin: 'ank-gradle-plugin'

dependencies {
//    compile ("io.kategory:ank-core:0.1.6") {
//     //   exclude group: "io.kategory", module: "kategory"
//    }
    //compile project(':kategory')
    compile "org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlinVersion"
    compile "org.jetbrains.kotlinx:kotlinx-collections-immutable:$kotlinxCollectionsImmutableVersion"
    compile "org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlinxCoroutinesVersion"
    compile "io.kotlintest:kotlintest:$kotlinTestVersion"
}

task printcp {
    println sourceSets.main.runtimeClasspath.each { println it }
}

ank {
    source = file("${projectDir}/docs")
    target = file("${projectDir}/build/site")
    classpath = sourceSets.main.runtimeClasspath
}

sourceCompatibility = javaVersion
targetCompatibility = javaVersion

apply from: rootProject.file('gradle/gradle-mvn-push.gradle')

compileKotlin.kotlinOptions.freeCompilerArgs += ["-Xskip-runtime-version-check"]